# ============================================================================
# INVESTMENT ANALYSIS PLATFORM - SECURE ENVIRONMENT CONFIGURATION
# ============================================================================
# üîí SECURITY NOTICE: This is a template file with NO actual secrets
# üîí Copy this file to .env and replace ALL placeholder values
# üîí NEVER commit .env files to version control
# ============================================================================
# Generated: 2026-01-27
# Purpose: Phase 1 Security Remediation - Secret Rotation
# ============================================================================

# ============================================================================
# ENVIRONMENT SETTINGS
# ============================================================================
ENVIRONMENT=production  # Options: development, staging, production
DEBUG=false             # MUST be false in production
LOG_LEVEL=INFO          # Options: DEBUG, INFO, WARNING, ERROR, CRITICAL
NODE_ENV=production

# ============================================================================
# APPLICATION CORE SECRETS
# ============================================================================
# Generate with: python3 -c "import secrets; print(secrets.token_hex(32))"
SECRET_KEY=REPLACE_WITH_64_CHAR_HEX_STRING

# Generate with: python3 -c "import secrets; print(secrets.token_urlsafe(64))"
JWT_SECRET_KEY=REPLACE_WITH_128_CHAR_BASE64_STRING

# JWT Configuration
JWT_ALGORITHM=RS256  # Use RS256 (asymmetric) for production
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# Generate with: from cryptography.fernet import Fernet; Fernet.generate_key().decode()
FERNET_KEY=REPLACE_WITH_FERNET_KEY

# Generate with: python3 -c "import secrets; print(secrets.token_urlsafe(32))"
SESSION_SECRET_KEY=REPLACE_WITH_SESSION_SECRET

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================
DB_HOST=localhost
DB_PORT=5432
DB_NAME=investment_db
DB_USER=postgres

# Generate with: python3 -c "import secrets, string; chars=string.ascii_letters+string.digits; print(''.join(secrets.choice(chars) for _ in range(32)))"
DB_PASSWORD=REPLACE_WITH_32_CHAR_PASSWORD

# Constructed from above (do not edit)
DATABASE_URL=postgresql://${DB_USER}:${DB_PASSWORD}@${DB_HOST}:${DB_PORT}/${DB_NAME}

# Database Security
DB_SSL_MODE=require         # Options: disable, allow, prefer, require, verify-ca, verify-full
DB_SSL_REQUIRE=true         # Enforce SSL connections
DB_MAX_CONNECTIONS=20
DB_CONNECTION_TIMEOUT=30

# ============================================================================
# REDIS CONFIGURATION
# ============================================================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0

# Generate with same command as DB_PASSWORD
REDIS_PASSWORD=REPLACE_WITH_32_CHAR_PASSWORD

# Constructed from above (do not edit)
REDIS_URL=redis://:${REDIS_PASSWORD}@${REDIS_HOST}:${REDIS_PORT}/${REDIS_DB}

# Redis Security
REDIS_SSL=true
REDIS_MAXMEMORY=512mb
REDIS_MAXMEMORY_POLICY=allkeys-lru

# ============================================================================
# EXTERNAL API KEYS
# ============================================================================

# Anthropic Claude API
# Get from: https://console.anthropic.com/settings/keys
ANTHROPIC_API_KEY=sk-ant-api03-XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX

# OpenAI GPT API
# Get from: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX

# Google Cloud API
# Get from: https://console.cloud.google.com/apis/credentials
GOOGLE_API_KEY=XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
GOOGLE_CLOUD_API_KEY=XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX

# Alpaca Markets (Stock Trading API)
# Get from: https://app.alpaca.markets/paper/dashboard/overview
ALPACA_API_KEY=XXXXXXXXXXXXXXXXXXXXXXXX
ALPACA_SECRET_KEY=XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX

# Alpha Vantage (Market Data)
# Get from: https://www.alphavantage.co/support/#api-key
ALPHA_VANTAGE_API_KEY=XXXXXXXXXXXXXXXXXXXXXXXX

# Finnhub (Financial Data)
# Get from: https://finnhub.io/dashboard
FINNHUB_API_KEY=XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX

# News API
# Get from: https://newsapi.org/account
NEWS_API_KEY=XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX

# FRED (Economic Data)
# Get from: https://fred.stlouisfed.org/docs/api/api_key.html
FRED_API_KEY=XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX

# ============================================================================
# SECURITY CONFIGURATION
# ============================================================================

# HTTPS Settings
FORCE_HTTPS=true

# CORS Settings (comma-separated, NO wildcards in production)
CORS_ALLOWED_ORIGINS=https://yourdomain.com,https://app.yourdomain.com,https://api.yourdomain.com

# Rate Limiting
RATE_LIMIT_ENABLED=true
DEFAULT_RATE_LIMIT=100/hour
STRICT_RATE_LIMIT=10/minute

# Session Settings
SESSION_MAX_AGE=3600  # 1 hour in seconds

# ============================================================================
# MONITORING & INFRASTRUCTURE
# ============================================================================

# Grafana
GRAFANA_USER=admin
# Generate with: python3 -c "import secrets, string; chars=string.ascii_letters+string.digits; print(''.join(secrets.choice(chars) for _ in range(24)))"
GRAFANA_PASSWORD=REPLACE_WITH_GRAFANA_PASSWORD

# Prometheus
PROMETHEUS_PORT=9090

# Airflow
# Generate with: python3 -c "import secrets, string; chars=string.ascii_letters+string.digits; print(''.join(secrets.choice(chars) for _ in range(24)))"
AIRFLOW_ADMIN_PASSWORD=REPLACE_WITH_AIRFLOW_PASSWORD

# ============================================================================
# CELERY CONFIGURATION
# ============================================================================
CELERY_BROKER_URL=redis://:${REDIS_PASSWORD}@${REDIS_HOST}:${REDIS_PORT}/1
CELERY_RESULT_BACKEND=redis://:${REDIS_PASSWORD}@${REDIS_HOST}:${REDIS_PORT}/1
CELERY_CONCURRENCY=4
CELERY_MAX_TASKS_PER_CHILD=25

# ============================================================================
# APPLICATION SETTINGS
# ============================================================================
BACKEND_PORT=8000
FRONTEND_PORT=3000
WORKERS=4

# Cache Settings
CACHE_ENABLED=true
CACHE_TTL=300  # 5 minutes

# File Upload Security
MAX_FILE_SIZE=10485760  # 10MB in bytes
ALLOWED_FILE_TYPES=.csv,.json,.pdf,.jpg,.jpeg,.png,.gif,.txt,.xls,.xlsx
UPLOAD_SCAN_ENABLED=true

# ============================================================================
# AUDIT & COMPLIANCE
# ============================================================================
AUDIT_LOG_RETENTION_DAYS=2555  # 7 years for SEC compliance
AUDIT_LOG_ENCRYPTION=true

# ============================================================================
# ‚ö†Ô∏è  SECURITY CHECKLIST - VERIFY BEFORE DEPLOYMENT ‚ö†Ô∏è
# ============================================================================
# [ ] All placeholder values replaced with actual secrets
# [ ] All secrets generated using cryptographically secure methods
# [ ] All external API keys obtained from providers
# [ ] HTTPS enabled (FORCE_HTTPS=true)
# [ ] DEBUG=false in production
# [ ] CORS_ALLOWED_ORIGINS contains only HTTPS URLs (no http://)
# [ ] No wildcards (*) in CORS_ALLOWED_ORIGINS
# [ ] SSL/TLS enabled for database (DB_SSL_MODE=require)
# [ ] SSL/TLS enabled for Redis (REDIS_SSL=true)
# [ ] Rate limiting enabled (RATE_LIMIT_ENABLED=true)
# [ ] File uploaded to .gitignore
# [ ] Secrets stored in password manager or secrets vault
# [ ] Team members notified of rotation
# [ ] Old secrets revoked from all providers
# ============================================================================
