# Sealed Secrets for production use
# This file uses Bitnami Sealed Secrets for secure secret management
# Install sealed-secrets controller first:
# kubectl apply -f https://github.com/bitnami-labs/sealed-secrets/releases/download/v0.18.0/controller.yaml

apiVersion: v1
kind: Secret
metadata:
  name: db-secret
  namespace: investment-analysis
type: Opaque
stringData:
  # These will be replaced by actual sealed secrets in production
  # Use: kubectl create secret generic db-secret --from-literal=password=$DB_PASSWORD --dry-run=client -o yaml | kubeseal -o yaml
  password: "${DB_PASSWORD}" # Will be replaced by CI/CD pipeline

---
apiVersion: v1
kind: Secret
metadata:
  name: app-secret
  namespace: investment-analysis
type: Opaque
stringData:
  secret-key: "${APP_SECRET_KEY}" # Will be replaced by CI/CD pipeline
  jwt-secret: "${JWT_SECRET_KEY}" # Will be replaced by CI/CD pipeline

---
apiVersion: v1
kind: Secret
metadata:
  name: api-keys
  namespace: investment-analysis
type: Opaque
stringData:
  alpha-vantage-key: "${ALPHA_VANTAGE_API_KEY}"
  finnhub-key: "${FINNHUB_API_KEY}"
  polygon-key: "${POLYGON_API_KEY}"
  news-api-key: "${NEWS_API_KEY}"
  fmp-key: "${FMP_API_KEY}"

---
# Example of how to create a SealedSecret (for documentation)
# This would be the actual format after using kubeseal
#
# apiVersion: bitnami.com/v1alpha1
# kind: SealedSecret
# metadata:
#   name: db-secret
#   namespace: investment-analysis
# spec:
#   encryptedData:
#     password: AgBvC8p0rMq... (encrypted value)
#   template:
#     metadata:
#       name: db-secret
#       namespace: investment-analysis
#     type: Opaque